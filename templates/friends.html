{{/*###
Handler=/friends
TitleBar=Friends
MinPrivileges=2
KyutGrill=friends.jpg
*/}}
{{ define "tpl" }}
<div class="ui container">
	<div class="ui segments" id="mwrp">
		<div class="ui segment">
			On this page you can see all of your friends, and unfriend them as you see fit.
		</div>
		<div class="ui segment">
			{{ $page := or (atoint (.Gin.Query "p")) 1 }}
			<div class="ui four column stackable grid">
				<div class="ui column" v-for="friend in friends">
					<ripple-friend
						v-bind:is-mutual="friend.is_mutual"
						v-bind:user="friend.id"
						v-bind:username="friend.username"
						v-bind:privileges="friend.privileges"></ripple-friend>
				</div>
			</div>
		</div>
		{{ $left := gt $page 1 }}
		{{ $right := false }}
		{{ if or $left $right }}
			<div class="ui right aligned segment">
				<div class="ui pagination menu">
					{{ if $left }}
						<a class="icon item" href="/friends?p={{ minus (float $page) 1 }}">
							<i class="left chevron icon"></i>
						</a>
					{{ end }}
					{{ if $right }}
						<a class="icon item" href="/friends?p={{ plus (float $page) 1 }}">
							<i class="right chevron icon"></i>
						</a>
					{{ end }}
				</div>
			</div>
		{{ end }}
	</div>
</div>
<script>
var vueData = {{ .Vue "friends?p=%d&l=40&sort=username,asc" $page }};
</script>
{{ end }}